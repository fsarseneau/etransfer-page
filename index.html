<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>e-Transfer link</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<video autoplay muted loop playsinline id="bg-video">
  <source src="skeleton-bellydance.mp4" type="video/mp4" />
</video>

  <main>
    <div>
      <div style="font-size: 20px;">ðŸ’¸ Send an e-Transfer</div>
      <div>...IF YOU DAREðŸŽƒðŸŽƒðŸŽƒ</div>
      <button class="button" id="copyButton">jonathan.carson13@gmail.com</button>
      <div style="padding: 15px">Click to copy email address.</div>
      <div>Auto-deposit is enabled â€” no security question needed.</div>
    </div>
  </main>

  <script>
    const button = document.getElementById('copyButton');

  button.addEventListener('click', async () => {
    const originalText = button.textContent.trim(); // store original text

    // Fallback for older mobile browsers
    if (!navigator.clipboard) {
      const textarea = document.createElement("textarea");
      textarea.value = originalText;
      document.body.appendChild(textarea);
      textarea.select();
      try {
        document.execCommand("copy");
      } catch (err) {
        console.error("Fallback copy failed:", err);
      }
      document.body.removeChild(textarea);
    } else {
      try {
        await navigator.clipboard.writeText(originalText);
      } catch (err) {
        console.error("Failed to copy text: ", err);
        return; // exit if it failed
      }
    }

    // Now update button text AFTER copying
    button.textContent = "Copied!";
    button.classList.add("copied");

    setTimeout(() => {
      button.textContent = originalText;
      button.classList.remove("copied");
    }, 1500);
  });
  </script>
</body>
</html>